<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Documentation for Mycodo"><link rel="shortcut icon" href=../images/favicon.png><meta name=generator content="mkdocs-1.1.2, mkdocs-material-5.5.0"><title>Outputs - Mycodo</title><link rel=stylesheet href=../assets/stylesheets/main.b5d04df8.min.css><link rel=stylesheet href=../assets/stylesheets/palette.9ab2c1f8.min.css><meta name=theme-color content=#2196f3><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Barlow:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Barlow",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style></head> <body dir=ltr data-md-color-scheme=preference data-md-color-primary=blue data-md-color-accent=indigo> <script>matchMedia("(prefers-color-scheme: dark)").matches&&document.body.setAttribute("data-md-color-scheme","slate")</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#custom-outputs class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=.. title=Mycodo class="md-header-nav__button md-logo" aria-label=Mycodo> <img src=../images/favicon.png alt=logo> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <span class="md-header-nav__topic md-ellipsis"> Mycodo </span> <span class="md-header-nav__topic md-ellipsis"> Outputs </span> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header-nav__source> <a href=https://github.com/kizniche/Mycodo/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> kizniche/Mycodo </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class="md-tabs md-tabs--active" aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../Data-Viewing/ class="md-tabs__link md-tabs__link--active"> Usage </a> </li> <li class=md-tabs__item> <a href=../Input-Devices/ class=md-tabs__link> Supported Devices </a> </li> <li class=md-tabs__item> <a href=../System-Information/ class=md-tabs__link> System </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title=Mycodo class="md-nav__button md-logo" aria-label=Mycodo> <img src=../images/favicon.png alt=logo> </a> Mycodo </label> <div class=md-nav__source> <a href=https://github.com/kizniche/Mycodo/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> kizniche/Mycodo </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. title=Home class=md-nav__link> Home </a> </li> <li class=md-nav__item> <a href=../About/ title=About class=md-nav__link> About </a> </li> <li class=md-nav__item> <a href=../Frequently-Asked-Questions/ title="Frequently Asked Questions" class=md-nav__link> Frequently Asked Questions </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4 type=checkbox id=nav-4 checked> <label class=md-nav__link for=nav-4> Usage <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Usage data-md-level=1> <label class=md-nav__title for=nav-4> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Usage </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Data-Viewing/ title="Data Viewing" class=md-nav__link> Data Viewing </a> </li> <li class=md-nav__item> <a href=../Inputs/ title=Inputs class=md-nav__link> Inputs </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Outputs <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg> </span> </label> <a href=./ title=Outputs class="md-nav__link md-nav__link--active"> Outputs </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#custom-outputs class=md-nav__link> Custom Outputs </a> </li> <li class=md-nav__item> <a href=#output-options class=md-nav__link> Output Options </a> </li> <li class=md-nav__item> <a href=#onoff-gpio class=md-nav__link> On/Off (GPIO) </a> </li> <li class=md-nav__item> <a href=#pulse-width-modulation-pwm class=md-nav__link> Pulse-Width Modulation (PWM) </a> </li> <li class=md-nav__item> <a href=#pulse-width-modulation-pwm-options class=md-nav__link> Pulse-Width Modulation (PWM) Options </a> <nav class=md-nav aria-label="Pulse-Width Modulation (PWM) Options"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#non-hardware-pwm-pins class=md-nav__link> Non-hardware PWM Pins </a> </li> <li class=md-nav__item> <a href=#hardware-pwm-pins class=md-nav__link> Hardware PWM Pins </a> </li> <li class=md-nav__item> <a href=#schematics-for-dc-fan-control class=md-nav__link> Schematics for DC Fan Control </a> </li> <li class=md-nav__item> <a href=#schematics-for-ac-modulation class=md-nav__link> Schematics for AC Modulation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#peristaltic-pump class=md-nav__link> Peristaltic Pump </a> <nav class=md-nav aria-label="Peristaltic Pump"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#generic-peristaltic-pump class=md-nav__link> Generic Peristaltic Pump </a> </li> <li class=md-nav__item> <a href=#atlas-scientific-peristaltic-pump class=md-nav__link> Atlas Scientific Peristaltic Pump </a> </li> <li class=md-nav__item> <a href=#peristaltic-pump-options class=md-nav__link> Peristaltic Pump Options </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#wireless-315433-mhz class=md-nav__link> Wireless 315/433 MHz </a> </li> <li class=md-nav__item> <a href=#linux-command class=md-nav__link> Linux Command </a> </li> <li class=md-nav__item> <a href=#python-command class=md-nav__link> Python Command </a> </li> <li class=md-nav__item> <a href=#output-notes class=md-nav__link> Output Notes </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../Functions/ title=Functions class=md-nav__link> Functions </a> </li> <li class=md-nav__item> <a href=../Methods/ title=Methods class=md-nav__link> Methods </a> </li> <li class=md-nav__item> <a href=../LCDs/ title=LCDs class=md-nav__link> LCDs </a> </li> <li class=md-nav__item> <a href=../Alerts/ title=Alerts class=md-nav__link> Alerts </a> </li> <li class=md-nav__item> <a href=../Notes/ title=Notes class=md-nav__link> Notes </a> </li> <li class=md-nav__item> <a href=../Camera/ title=Camera class=md-nav__link> Camera </a> </li> <li class=md-nav__item> <a href=../Energy-Usage/ title="Energy Usage" class=md-nav__link> Energy Usage </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5 type=checkbox id=nav-5> <label class=md-nav__link for=nav-5> Supported Devices <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Supported Devices" data-md-level=1> <label class=md-nav__title for=nav-5> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Supported Devices </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Input-Devices/ title="Input Devices" class=md-nav__link> Input Devices </a> </li> <li class=md-nav__item> <a href=../Output-Devices/ title="Output Devices" class=md-nav__link> Output Devices </a> </li> <li class=md-nav__item> <a href=../I2C-Multiplexers/ title="I2C Multiplexers" class=md-nav__link> I2C Multiplexers </a> </li> <li class=md-nav__item> <a href=../Analog-To-Digital-Converters/ title="Analog-To-Digital Converters" class=md-nav__link> Analog-To-Digital Converters </a> </li> <li class=md-nav__item> <a href=../Interfaces/ title=Interfaces class=md-nav__link> Interfaces </a> </li> <li class=md-nav__item> <a href=../Dependencies/ title=Dependencies class=md-nav__link> Dependencies </a> </li> <li class=md-nav__item> <a href=../Device-Notes/ title="Device Notes" class=md-nav__link> Device Notes </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-6 type=checkbox id=nav-6> <label class=md-nav__link for=nav-6> System <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=System data-md-level=1> <label class=md-nav__title for=nav-6> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> System </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../System-Information/ title="System Information" class=md-nav__link> System Information </a> </li> <li class=md-nav__item> <a href=../Configuration-Settings/ title="System Configuration" class=md-nav__link> System Configuration </a> </li> <li class=md-nav__item> <a href=../Upgrade-Backup-Restore/ title=Upgrade/Backup/Restore class=md-nav__link> Upgrade/Backup/Restore </a> </li> <li class=md-nav__item> <a href=../Export-Import/ title=Export/Import class=md-nav__link> Export/Import </a> </li> <li class=md-nav__item> <a href=../Mycodo-Client/ title="Mycodo Client" class=md-nav__link> Mycodo Client </a> </li> <li class=md-nav__item> <a href=../API/ title=API class=md-nav__link> API </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../Troubleshooting/ title=Troubleshooting class=md-nav__link> Troubleshooting </a> </li> <li class=md-nav__item> <a href=../Translations/ title=Translations class=md-nav__link> Translations </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#custom-outputs class=md-nav__link> Custom Outputs </a> </li> <li class=md-nav__item> <a href=#output-options class=md-nav__link> Output Options </a> </li> <li class=md-nav__item> <a href=#onoff-gpio class=md-nav__link> On/Off (GPIO) </a> </li> <li class=md-nav__item> <a href=#pulse-width-modulation-pwm class=md-nav__link> Pulse-Width Modulation (PWM) </a> </li> <li class=md-nav__item> <a href=#pulse-width-modulation-pwm-options class=md-nav__link> Pulse-Width Modulation (PWM) Options </a> <nav class=md-nav aria-label="Pulse-Width Modulation (PWM) Options"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#non-hardware-pwm-pins class=md-nav__link> Non-hardware PWM Pins </a> </li> <li class=md-nav__item> <a href=#hardware-pwm-pins class=md-nav__link> Hardware PWM Pins </a> </li> <li class=md-nav__item> <a href=#schematics-for-dc-fan-control class=md-nav__link> Schematics for DC Fan Control </a> </li> <li class=md-nav__item> <a href=#schematics-for-ac-modulation class=md-nav__link> Schematics for AC Modulation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#peristaltic-pump class=md-nav__link> Peristaltic Pump </a> <nav class=md-nav aria-label="Peristaltic Pump"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#generic-peristaltic-pump class=md-nav__link> Generic Peristaltic Pump </a> </li> <li class=md-nav__item> <a href=#atlas-scientific-peristaltic-pump class=md-nav__link> Atlas Scientific Peristaltic Pump </a> </li> <li class=md-nav__item> <a href=#peristaltic-pump-options class=md-nav__link> Peristaltic Pump Options </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#wireless-315433-mhz class=md-nav__link> Wireless 315/433 MHz </a> </li> <li class=md-nav__item> <a href=#linux-command class=md-nav__link> Linux Command </a> </li> <li class=md-nav__item> <a href=#python-command class=md-nav__link> Python Command </a> </li> <li class=md-nav__item> <a href=#output-notes class=md-nav__link> Output Notes </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/kizniche/Mycodo/edit/master/docs/Outputs.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1>Outputs</h1> <p>Page: <code>Setup -&gt; Output</code></p> <p>Outputs are various signals that can be generated that operate devices. An output can be a HIGH/LOW signal on a GPIO pin, a pulse-width modulated (PWM) signal, a 315/433 MHz signal to switch a radio frequency-operated relay, driving of pumps and motors, or an execution of a linux or Python command, to name a few.</p> <h2 id=custom-outputs>Custom Outputs<a class=headerlink href=#custom-outputs title="Permanent link">~</a></h2> <p>There is a Custom Output import system in Mycodo that allows user-created Outputs to be created an used in the Mycodo system. Custom Outputs can be uploaded and imported from the <code>[Gear Icon] -&gt; Configure -&gt; Outputs</code> page. After import, they will be available to use on the <code>Setup -&gt; Output</code> page.</p> <p>If you desire an Output that is not currently supported by Mycodo, you can build your own Output module and import it into Mycodo. All information about an Output is contained within the Output module. Open any of the built-in modules located in the <a href=https://github.com/kizniche/Mycodo/tree/master/mycodo/outputs/ >outputs directory</a> for examples of the proper formatting. There's also a <a href=https://github.com/kizniche/Mycodo/tree/master/mycodo/outputs/examples/example_dummy_output.py>minimal output module template as an example</a>. For Outputs that require new measurements/units, they can be added on the <code>[Gear Icon] -&gt; Configure -&gt; Measurements</code> page.</p> <h2 id=output-options>Output Options<a class=headerlink href=#output-options title="Permanent link">~</a></h2> <table> <thead> <tr class=header> <th>Setting</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>Pin (GPIO)</td> <td>This is the GPIO that will be the signal to the output, using BCM numbering.</td> </tr> <tr> <td>WiringPi Pin</td> <td>This is the GPIO that will be the signal to the output, using WiringPi numbering.</td> </tr> <tr> <td>On State</td> <td>This is the state of the GPIO to signal the output to turn the device on. HIGH will send a 3.3-volt signal and LOW will send a 0-volt signal. If you output completes the circuit (and the device powers on) when a 3.3-volt signal is sent, then set this to HIGH. If the device powers when a 0-volt signal is sent, set this to LOW.</td> </tr> <tr> <td>Protocol</td> <td>This is the protocol to use to transmit via 315/433 MHz. Default is 1, but if this doesn't work, increment the number.</td> </tr> <tr> <td>UART Device</td> <td>The UART device connected to the device.</td> </tr> <tr> <td>Baud Rate</td> <td>The baud rate of the UART device.</td> </tr> <tr> <td>I2C Address</td> <td>The I2C address of the device.</td> </tr> <tr> <td>I2C Bus</td> <td>The I2C bus the device is connected to.</td> </tr> <tr> <td>Output Mode</td> <td>The Output mode, if supported.</td> </tr> <tr> <td>Flow Rate</td> <td>The flow rate to dispense the volume (ml/min).</td> </tr> <tr> <td>Pulse Length</td> <td>This is the pulse length to transmit via 315/433 MHz. Default is 189 ms.</td> </tr> <tr> <td>Bit Length</td> <td>This is the bit length to transmit via 315/433 MHz. Default is 24-bit.</td> </tr> <tr> <td>Execute as User</td> <td>Select which user executes Linux Commands.</td> </tr> <tr> <td>On Command</td> <td>This is the command used to turn the output on. For wireless relays, this is the numerical command to be transmitted, and for command outputs this is the command to be executed. Commands may be for the linux terminal or Python 3 (depending on which output type selected).</td> </tr> <tr> <td>Off Command</td> <td>This is the command used to turn the output off. For wireless relays, this is the numerical command to be transmitted, and for command outputs this is the command to be executed. Commands may be for the linux terminal or Python 3 (depending on which output type selected).</td> </tr> <tr> <td>Force Command</td> <td>If an Output is already on, enabling this option will allow the On command to be executed rather than returning &quot;Output is already On&quot;.</td> </tr> <tr> <td>PWM Command</td> <td>This is the command used to set the duty cycle. The string &quot;((duty_cycle))&quot; in the command will be replaced with the actual duty cycle before the command is executed. Ensure &quot;((duty_cycle))&quot; is included in your command for this feature to work correctly. Commands may be for the linux terminal or Python 3 (depending on which output type selected).</td> </tr> <tr> <td>Current Draw (amps)</td> <td>The is the amount of current the device powered by the output draws. Note: this value should be calculated based on the voltage set in the <a href=#energy-usage-settings>Energy Usage Settings</a>.</td> </tr> <tr> <td>Startup State</td> <td>This specifies whether the output should be ON or OFF when mycodo initially starts. Some outputs have an additional options.</td> </tr> <tr> <td>Startup Value</td> <td>If the Startup State is set to User Set Value (such as for PWM Outputs), then this value will be set when Mycodo starts up.</td> </tr> <tr> <td>Shutdown State</td> <td>This specifies whether the output should be ON or OFF when mycodo initially shuts down. Some outputs have an additional options.</td> </tr> <tr> <td>Shutdown Value</td> <td>If the Shutdown State is set to User Set Value (such as for PWM Outputs), then this value will be set when Mycodo shuts down.</td> </tr> <tr> <td>Trigger at Startup</td> <td>Select to enable triggering Functions (such as Output Triggers) when Mycodo starts and if Start State is set to ON.</td> </tr> <tr> <td>Seconds to turn On</td> <td>This is a way to turn a output on for a specific duration of time. This can be useful for testing the outputs and powered devices or the measured effects a device may have on an environmental condition.</td> </tr> </tbody> </table> <h2 id=onoff-gpio>On/Off (GPIO)<a class=headerlink href=#onoff-gpio title="Permanent link">~</a></h2> <p>The On/Off (GPIO) output merely turns a GPIO pin High (3.3 volts) or Low (0 volts). This is useful for controlling things like electromechanical switches, such as relays, to turn electrical devices on and off.</p> <p>Relays are electromechanical or solid-state devices that enable a small voltage signal (such as from a microprocessor) to activate a much larger voltage, without exposing the low-voltage system to the dangers of the higher voltage.</p> <p>Add and configure outputs in the Output tab. Outputs must be properly set up before they can be used in the rest of the system.</p> <p>To set up a wired relay, set the "GPIO Pin" (using BCM numbering) to the pin you would like to switch High (5 volts) and Low (0 volts), which can be used to activate relays and other devices. <em>On Trigger</em> should be set to the signal state (High or Low) that induces the device to turn on. For example, if your relay activates when the potential across the coil is 0-volts, set <em>On Trigger</em> to "Low", otherwise if your relay activates when the potential across the coil is 5 volts, set it to "High".</p> <h2 id=pulse-width-modulation-pwm>Pulse-Width Modulation (PWM)<a class=headerlink href=#pulse-width-modulation-pwm title="Permanent link">~</a></h2> <p>Pulse-width modulation (PWM) is a modulation technique used to encode a message into a pulsing signal, at a specific frequency in Hertz (Hz). The average value of voltage (and current) fed to the load is controlled by turning the switch between supply and load on and off at a fast rate. The longer the switch is on compared to the off periods, the higher the total power supplied to the load.</p> <p>The PWM switching frequency has to be much higher than what would affect the load (the device that uses the power), which is to say that the resultant waveform perceived by the load must be as smooth as possible. The rate (or frequency) at which the power supply must switch can vary greatly depending on load and application, for example</p> <blockquote> <p>Switching has to be done several times a minute in an electric stove; 120 Hz in a lamp dimmer; between a few kilohertz (kHz) to tens of kHz for a motor drive; and well into the tens or hundreds of kHz in audio amplifiers and computer power supplies.</p> </blockquote> <p>The term duty cycle describes the proportion of 'on' time to the regular interval or 'period' of time; a low duty cycle corresponds to low power, because the power is off for most of the time. Duty cycle is expressed in percent, with 0% being always off, 50% being off for half of the time and on for half of the time, and 100% being always on.</p> <h2 id=pulse-width-modulation-pwm-options>Pulse-Width Modulation (PWM) Options<a class=headerlink href=#pulse-width-modulation-pwm-options title="Permanent link">~</a></h2> <table> <thead> <tr class=header> <th>Setting</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>Library</td> <td>Select the method for producing the PWM signal. Hardware pins can produce up to a 30 MHz PWM signal, while any other (non-hardware PWM) pin can produce up to a 40 kHz PWM signal. See the table, below, for the hardware pins on various Pi boards.</td> </tr> <tr> <td>Pin (GPIO)</td> <td>This is the GPIO pin that will output the PWM signal, using BCM numbering.</td> </tr> <tr> <td>Frequency (Hertz)</td> <td>This is frequency of the PWM signal.</td> </tr> <tr> <td>Invert Signal</td> <td>Send an inverted duty cycle to the output controller.</td> </tr> <tr> <td>Duty Cycle</td> <td>This is the proportion of the time on to the time off, expressed in percent (0 -100).</td> </tr> </tbody> </table> <h3 id=non-hardware-pwm-pins>Non-hardware PWM Pins<a class=headerlink href=#non-hardware-pwm-pins title="Permanent link">~</a></h3> <p>When using non-hardware PWM pins, there are only certain frequencies that can be used. These frequencies in Hertz are 40000, 20000, 10000, 8000, 5000, 4000, 2500, 2000, 1600, 1250, 1000, 800, 500, 400, 250, 200, 100, and 50 Hz. If you attempt to set a frequency that is not listed here, the nearest frequency from this list will be used.</p> <h3 id=hardware-pwm-pins>Hardware PWM Pins<a class=headerlink href=#hardware-pwm-pins title="Permanent link">~</a></h3> <p>The exact frequency may be set when using hardware PWM pins. The same PWM channel is available on multiple GPIO. The latest frequency and duty cycle setting will be used by all GPIO pins which share a PWM channel.</p> <table> <thead> <tr class=header> <th>BCM Pin</th> <th>PWM Channel</th> <th>Raspberry Pi Version</th> </tr> </thead> <tbody> <tr> <td>12</td> <td>0</td> <td>All models except A and B</td> </tr> <tr> <td>13</td> <td>1</td> <td>All models except A and B</td> </tr> <tr> <td>18</td> <td>0</td> <td>All models</td> </tr> <tr> <td>19</td> <td>1</td> <td>All models except A and B</td> </tr> <tr> <td>40</td> <td>0</td> <td>Compute module only</td> </tr> <tr> <td>41</td> <td>1</td> <td>Compute module only</td> </tr> <tr> <td>45</td> <td>1</td> <td>Compute module only</td> </tr> <tr> <td>52</td> <td>0</td> <td>Compute module only</td> </tr> <tr> <td>53</td> <td>1</td> <td>Compute module only</td> </tr> </tbody> </table> <h3 id=schematics-for-dc-fan-control>Schematics for DC Fan Control<a class=headerlink href=#schematics-for-dc-fan-control title="Permanent link">~</a></h3> <p>Below are hardware schematics that enable controlling direct current (DC) fans from the PWM output from Mycodo.</p> <p>PWM output controlling a 12-volt DC fan (such as a PC fan)</p> <p><img alt="Schematic: PWM output modulating alternating current (AC) at 1% duty cycle (1of2)" src=../images/Schematic-PWM-DC-12-volt-fan-control.png></p> <h3 id=schematics-for-ac-modulation>Schematics for AC Modulation<a class=headerlink href=#schematics-for-ac-modulation title="Permanent link">~</a></h3> <p>Below are hardware schematics that enable the modulation of alternating current (AC) from the PWM output from Mycodo.</p> <p>PWM output modulating alternating current (AC) at 1% duty cycle</p> <p><img alt="Schematic: PWM output modulating alternating current (AC) at 1% duty cycle (2of2)" src=../images/Schematic-PWM-AC-1percent-duty-cycle.png></p> <p>PWM output modulating alternating current (AC) at 50% duty cycle</p> <p><img alt="Schematic: PWM output modulating alternating current (AC) at 50% duty cycle" src=../images/Schematic-PWM-AC-50percent-duty-cycle.png></p> <p>PWM output modulating alternating current (AC) at 99% duty cycle</p> <p><img alt="Schematic: PWM output modulating alternating current (AC) at 99% duty cycle" src=../images/Schematic-PWM-AC-99percent-duty-cycle.png></p> <h2 id=peristaltic-pump>Peristaltic Pump<a class=headerlink href=#peristaltic-pump title="Permanent link">~</a></h2> <p>There are two peristaltic pump Output modules that Mycodo supports, a generic peristaltic pump Output, and the Atlas Scientific EZO-PMP peristaltic pump.</p> <h3 id=generic-peristaltic-pump>Generic Peristaltic Pump<a class=headerlink href=#generic-peristaltic-pump title="Permanent link">~</a></h3> <p>Any peristaltic pump can be used with the Generic Peristaltic Pump Output to dispense liquids. The most basic dispensing abilities are to start dispensing, stop dispensing, or dispense for a duration of time. If the pump rate has been measured, this value can be entered into the Fastest Rate (ml/min) setting and the Output controller will then be able to dispense specific volumes rather than merely for durations of time. In oder to dispense specific volumes, the Output Mode will also need to be set in addition to the Desired Flow Rate (ml/min), if the Output Mode has been set to Specify Flow Rate.</p> <p>To determine your pump's flow rate, first purge all air from your pump's hose. Next, instruct the pump to dispense for 60 seconds and collect the liquid it dispenses. Once finished, measure the amount of liquid and enter this value, in milliliters into the Fastest Rate (ml/min) setting. Once your pump's flow rate is set, you can now start dispensing specific volumes rather than durations.</p> <p>This Output module relies on switching a GPIO pin High and Low to switch the peristaltic pump on and off. This is most easily accomplished with the use of a relay in-line with your pump's power supply or using the GPIO as an input signal directly to the pump (if supported). When using a relay, it's important to develop your circuit to provide the fastest possible switching of the pump. Since the volume dispensed by the pump is dependent on time, the faster the pump switching can occur, the more accurate the dispensing will be. Many peristaltic pumps operate on DC voltage and require an AC-DC converter. These converters can take a significant amount of time to energize once power is applied as well as de-energize once power is removed, causing significant delays that can impact dispensing accuracy. To alleviate this issue, the DC power should be switched, rather than the AC power, which will remove this potential delay.</p> <h3 id=atlas-scientific-peristaltic-pump>Atlas Scientific Peristaltic Pump<a class=headerlink href=#atlas-scientific-peristaltic-pump title="Permanent link">~</a></h3> <p>The Atlas Scientific peristaltic pump is a peristaltic pump and microcontroller combined that allows it to be communicated with via I2C or Serial and can accurately dispense specific volumes of fluid. There are <a href=https://www.atlas-scientific.com/files/EZO_PMP_Datasheet.pdf>several commands</a> the pump can accept, including commands to calibrate, turn on, turn off, and dispense at a specific rate, among others. Atlas Scientific peristaltic pumps are good options, but are more expensive than generic peristaltic pumps.</p> <h3 id=peristaltic-pump-options>Peristaltic Pump Options<a class=headerlink href=#peristaltic-pump-options title="Permanent link">~</a></h3> <table> <thead> <tr class=header> <th>Setting</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>Output Mode</td> <td>&quot;Fastest low Rate&quot; will pump liquid at the fastest rate the pump can perform. &quot;Specify Flow Rate&quot; will pump liquid at the rate set by the &quot;Flow Rate (ml/min)&quot; option.</td> </tr> <tr> <td>Flow Rate (ml/min)</td> <td>This is how fast liquid will be pumped if the &quot;Specify Flow Rate&quot; option is selected for the Output Mode option.</td> </tr> <tr> <td>Fastest Rate (ml/min)</td> <td>This is the rate at which the pump dispenses liquid, in ml/min.</td> </tr> <tr> <td>Minimum On (sec/min)</td> <td>This is the minimum duration (seconds) the pump should be turned on for every 60 second period of pumping. This option is only used when Specify Flow Rate is selected as the output Mode.</td> </tr> </tbody> </table> <h2 id=wireless-315433-mhz>Wireless 315/433 MHz<a class=headerlink href=#wireless-315433-mhz title="Permanent link">~</a></h2> <p>Certain 315/433 MHz wireless relays may be used, however you will need to set the pin of the transmitter (using BCM numbering), pulse length, bit length, protocol, on command, and off command. To determine your On and Off commands, connect a 315/433 MHz receiver to your Pi, then run the receiver script, below, replacing 17 with the pin your receiver is connected to (using BCM numbering), and press one of the buttons on your remote (either on or off) to detect the numeric code associated with that button.</p> <div class=codehilite><pre><span></span><code>sudo ~/Mycodo/env/bin/python ~/Mycodo/mycodo/devices/wireless_rpi_rf.py -d <span class=m>2</span> -g <span class=m>17</span>
</code></pre></div> <p>433 MHz wireless relays have been successfully tested with SMAKN 433MHz RF Transmitters/Receivers and Etekcity Wireless Remote Control Electrical Outlets (see <a href=https://github.com/kizniche/Mycodo/issues/88>Issue 88</a> for more information). If you have a 315/433 MHz transmitter/receiver and a wireless relay that does not work with the current code, submit a <a href=https://github.com/kizniche/Mycodo/issues/new>new issue</a> with details of your hardware.</p> <h2 id=linux-command>Linux Command<a class=headerlink href=#linux-command title="Permanent link">~</a></h2> <p>Another option for output control is to execute a terminal command when the output is turned on, off, or a duty cycle is set. Commands will be executed as the user 'root'. When a Linux Command output is created, example code is provided to demonstrate how to use the output.</p> <h2 id=python-command>Python Command<a class=headerlink href=#python-command title="Permanent link">~</a></h2> <p>The Python Command output operates similarly to the Linux Command output, however Python 3 code is being executed. When a Python Command output is created, example code is provided to demonstrate how to use the output.</p> <h2 id=output-notes>Output Notes<a class=headerlink href=#output-notes title="Permanent link">~</a></h2> <p>Wireless and Command (Linux/Python) Outputs: Since the wireless protocol only allows 1-way communication to 315/433 MHz devices, wireless relays are assumed to be off until they are turned on, and therefore will appear red (off) when added. If a wireless relay is turned off or on outside Mycodo (by a remote, for instance), Mycodo will <strong>*not</strong>* be able to determine the state of the relay and will indicate whichever state the relay was last. This is, if Mycodo turns the wireless relay on, and a remote is used to turn the relay off, Mycodo will still assume the relay is on.</p> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Footer> <a href=../Inputs/ title=Inputs class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Previous </span> Inputs </div> </div> </a> <a href=../Functions/ title=Functions class="md-footer-nav__link md-footer-nav__link--next" rel=next> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Next </span> Functions </div> </div> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <script src=../assets/javascripts/vendor.92ffa368.min.js></script> <script src=../assets/javascripts/bundle.5123e3d4.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script> <script>
        app = initialize({
          base: "..",
          features: ["tabs"],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.a68abb33.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> </body> </html>